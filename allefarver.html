<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://kit.fontawesome.com/a4b7cedec2.js" crossorigin="anonymous"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <title>flügger</title>
  <link href="https://fonts.googleapis.com/css2?family=Actor&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Space+Grotesk:wght@300..700&display=swap" rel="stylesheet">
  </head>

<style>
  /* Hele body-elementet: sæt margin til 0, brug skrifttype Inter, og baggrund som hvid */
  body {
    margin: 0;
    font-family: "Inter", sans-serif;
    background-color: white;
  }

  /* Headeren får hvid baggrund */
  header {
    background-color: #fff;
  }

  /* Sort bjælke med USP (unik salgs-pointe) tekst */
  .USP-bar-ek {
    background-color: #363433;
    padding: 0.5rem 0.5rem;
    text-align: center;
    font-size: 0.9rem;
    color: white;
  }

  /* Indhold i header: logo og ikoner vises side om side */
  .header-indhold-ek {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 2rem;
    background-color: white;
  }

  /* Logoet: maks bredde 150px, og højden justeres automatisk */
  .logo-ek {
    max-width: 150px;
    height: auto;
  }

  /* Ikoner (søg, kurv, menu): vises i række med mellemrum */
  .ikoner-ek {
    display: flex;
    gap: 1rem;
    font-size: 1.8rem;
  }

  /* Topmenu til valg ("vælg farve" / "farvelæg") */
  .valg-ek {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2rem;
    background-color: white;
    margin-top: 2rem;
  }

  /* Lodret streg mellem valg */
  .opdeler-ek {
    width: 1px;
    align-self: stretch;
    background-color: black;
  }

  /* Den valgte sektion får understregning */
  .valgt-ek {
    border-bottom: 2px solid #000;
    padding-bottom: 0.2rem;
  }

  /* Ikke-valgte er normal i stilen */
  .ikke-valgt-ek {
    font-weight: normal;
  }

  .valgt-ek a {
    text-decoration: none;
    color: inherit;
  }

  /* Overskriften */
  h3{
    margin: 2rem;
    font-size: 2rem;
  }

  /* styling til søgefeltet */
  .sogefelt-ek {
    display: flex;
    align-items: center;
    margin: 2rem 2rem 0;
    padding: 1rem;
    font-size: 1rem;
    width: 75%;
    border: 1px solid #000000;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  /* Selve inputfeltet i søgningen */
  #sogInput-ek {
    font-size: 1.2rem;
    border: transparent;
  }

  /* Ikonet i søgefeltet */
  .sogefelt-ek i {
    color: #000000;
    font-size: 1.2rem;
    padding: 0.5rem;
  }

  /* Containeren hvor farverne vises som grid */
  .farve-container-ek {
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* 2 kolonner */
    gap: 1rem;
    padding: 2rem;
  }

  /* Hver farveboks har position og skjuler overløb */
  .farveboks-ek {
    position: relative;
    overflow: hidden;
  }

  /* Selve farvevisningen (den farvede firkant) */
  .farve-ek {
    height: 100px;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    background-blend-mode: multiply;
  }

  /* Informationsfeltet under hver farve */
  .info-ek {
    padding-top: 0.5rem;
    background: white;
    padding-bottom: 2rem;
  }

  /* navnet på farven i farvekortet */
  .info-ek h4 {
    margin: 0 0 0.25rem;
    font-size: 1rem;
  }

  /* farvekoden i farvekortet */
  .info-ek p {
    margin: 0;
    font-size: 0.875rem;
    color: #555;
  }

  /* Øverste infofelt med navn og knap */
  .info-top-ek {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  /* Plus/tilføj-knappen i farvekortet */
  .tilfoej-knap-ek {
    width: 30px;
    height: 30px;
    border: 1px solid black;
    border-radius: 50%;
    font-size: 1.5rem;
    font-weight: bold;
    background: white;
    color: black;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s ease;
  }

  /* Hvis farven er valgt: vis orange baggrund på tilføj ikonet */
  .tilfoej-knap-ek.selected {
    background: #E67E23;
    color: black;
    border: 1px solid #E67E23;
  }

  /* Ikonet inde i knappen, tilføj ikonet i farvekortet */
  .ikon-ek {
    font-size: 1.5rem;
    font-weight: lighter;
    color: black;
    transition: color 0.2s ease, transform 0.2s ease;
  }

  /* Hvis farven er valgt: gør ikonet mindre og hvidt i farvekortet */
  .tilfoej-knap-ek.selected .ikon-ek {
    color: white;
    transform: scale(0.8);
  }

  /* Popup med valgte farver, fast i bunden af skærmen */
  .valg-popup-ek {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background: white;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2);
    padding: 1rem;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    gap: 1rem;
  }

  /* De valgte farver vises side om side og kan gå på næste linje i pop uppen */
  .valgte-farver-ek {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
  }

  /* Gør popup'en usynlig hvis den har klassen 'hidden' */
  .valg-popup-ek.hidden {
    display: none;
  }

  /* Lille forhåndsvisning af valgt farve i pop uppen */
  .valgte-farver-ek .farve-preview-ek {
    width: 50px;
    height: 50px;
    position: relative;
  }

  /* Knappen til at fjerne en valgt farve i pop uppen */
  .farve-preview-ek .fjern-knap-ek {
    position: absolute;
    top: -5px;
    right: -5px;
    background: white;
    border: 1px solid #000;
    border-radius: 50%;
    width: 18px;
    height: 18px;
    font-size: 12px;
    text-align: center;
    cursor: pointer;
    line-height: 16px;
  }

  /* Den store blå 'Tilføj' knap i bunden af pop uppen */
  #tilfoejListe-ek {
    height: 50px;
    padding: 0 1.5rem;
    background-color: #1E32DA;
    color: white;
    font-size: 1rem;
    border: none;
    cursor: pointer;
    align-self: center;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .filter-container-ek {
    width: 84%;
    margin: 1rem 2rem 0;
  }

  .filter-ek {
    border: 1px solid #000;
    padding: 1rem;
    margin-bottom: 1rem;
    cursor: pointer;
    position: relative;
  }

  .filter-ek::after {
    content: '▾';
    position: absolute;
    right: 1rem;
    top: 50%;
    transform: translateY(-50%);
  }

  .dropdown-options {
    display: none;
    border: 1px solid #000;
    border-top: none;
    padding: 0.5rem;
    background: #fff;
    position: absolute;
    width: 94%;
    left: 0;
    top: 100%;
    z-index: 10;
    max-height: 200px;
    overflow-y: auto;
  }

  .dropdown-options label {
    display: block;
    margin-bottom: 0.5rem;
    cursor: pointer;
    font-size: 0.95rem;
  }

  .dropdown-options input[type="checkbox"] {
    margin-right: 0.5rem;
  }

  .filter-ek.open .dropdown-options {
    display: block;
  }

  .dropdown-options div {
    padding: 0.5rem;
    cursor: pointer;
  }

  .dropdown-options div:hover {
    background-color: #f0f0f0;
  }

</style>

<body>
<header>
  <div class="USP-bar-ek">
    <p>30 dages returret</p>
  </div>
  <div class="header-indhold-ek">
    <img class="logo-ek" src="fotos/logo.png" alt="logo">
    <div class="ikoner-ek">
      <i class="fa-solid fa-magnifying-glass"></i>
      <i class="fa-solid fa-basket-shopping"></i>
      <i class="fa-solid fa-bars"></i>
    </div>
  </div>
</header>

<div class="valg-ek">
  <h2 class="valgt-ek"><a href="vælgfarve.html">Vælg farve</a></h2>
  <div class="opdeler-ek"></div>
  <h2 class="ikke-valgt-ek">Farvelæg</h2>
</div>

<h3>Alle farver</h3>

<div class="sogefelt-ek">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="text" id="sogInput-ek" placeholder="Søg farver...">
</div>

<div class="filter-container-ek">
  <div class="filter-ek" data-filter="grundfarve">Filter efter grundfarve</div>
  <div class="filter-ek" data-filter="farvekort">Filter efter farvekort</div>
  <div class="filter-ek" data-filter="tone">Filter efter tone</div>
</div>

<div class="farve-container-ek" id="farveContainer-ek"></div>

<div id="valgPopup-ek" class="valg-popup-ek hidden">
  <div id="valgteFarver-ek" class="valgte-farver-ek"></div>
  <button id="tilfoejListe-ek">Tilføj</button>
</div>


<script src="database.js"></script>
<script>
  // Når hele HTML-dokumentet er indlæst og klar
  document.addEventListener("DOMContentLoaded", function () {
    // Hent relevante DOM-elementer
    const container = document.getElementById("farveContainer-ek"); // Beholder til visning af farver
    const input = document.getElementById("sogInput-ek"); // Søge input felt
    const popup = document.getElementById("valgPopup-ek"); // Popup-vindue der viser valgte farver
    const valgteContainer = document.getElementById("valgteFarver-ek"); // Beholder til valgte farver
    const tilfoejKnap = document.getElementById("tilfoejListe-ek"); // Knap til at tilføje valgte farver og gå videre
    const filters = document.querySelectorAll(".filter-ek"); // Alle filter-elementer på siden

    // Gemmer valgte farver
    let valgteFarver = [];

    // Gemmer de aktive filtre for hver filterkategori
    const aktiveFiltre = {
      grundfarve: new Set(),
      farvekort: new Set(),
      tone: new Set()
    };

    // ----------------------------------------
    // Funktion: Vis valgte farver i popup
    // ----------------------------------------
    function visValgteFarver() {
      valgteContainer.innerHTML = ""; // Tøm containeren

      // Hvis ingen farver er valgt, skjul popup
      if (valgteFarver.length === 0) {
        popup.classList.add("hidden");
        return;
      }

      popup.classList.remove("hidden"); // Vis popup

      // Gennemgå hver valgt farve og opret visning
      valgteFarver.forEach(f => {
        const preview = document.createElement("div"); // Visning af farve
        preview.className = "farve-preview-ek";
        preview.style.backgroundColor = f.hex;

        const fjern = document.createElement("div"); // Knap til at fjerne farve
        fjern.className = "fjern-knap-ek";
        fjern.textContent = "✕";

        // Når man klikker på "✕", fjernes farven
        fjern.addEventListener("click", function () {
          valgteFarver = valgteFarver.filter(f2 => f2.kode !== f.kode);
          visValgteFarver(); // Opdater visning
          renderFarver(colorData); // Opdater alle farvebokse
        });

        preview.appendChild(fjern); // Tilføj knap til preview
        valgteContainer.appendChild(preview); // Vis preview
      });
    }

    // ----------------------------------------
    // Funktion: Render farver i bokse
    // ----------------------------------------
    function renderFarver(data) {
      container.innerHTML = ""; // Ryd eksisterende visning

      data.forEach(farve => {
        const boks = document.createElement("div"); // Ydre boks
        boks.className = "farveboks-ek";

        const farveDiv = document.createElement("div"); // Farvefelt
        farveDiv.className = "farve-ek";
        farveDiv.style.backgroundColor = farve.hex;

        // Hvis farven er en effekt med tekstur, vis billede
        if (farve.type === "effekt" && farve.tekstur) {
          farveDiv.style.backgroundImage = `url(fotos/tekstur3.png)`;
        }

        const farveWrapper = document.createElement("div"); // Wrapper til placering
        farveWrapper.style.position = "relative";
        farveWrapper.appendChild(farveDiv);

        // Infofelt med navn og kode og tilføjknap
        const info = document.createElement("div");
        info.className = "info-ek";
        info.innerHTML = `
        <div class="info-top-ek">
          <h4>${farve.navn}</h4>
          <button class="tilfoej-knap-ek" aria-label="Tilføj farve">
            <span class="ikon-ek">
              ${valgteFarver.some(f => f.kode === farve.kode) ? "✔" : "+"}
            </span>
          </button>
        </div>
        <p>${farve.kode}</p>
      `;

        boks.appendChild(farveWrapper); // Tilføj farvevisning
        boks.appendChild(info); // Tilføj infofelt
        container.appendChild(boks); // Vis i container

        const knap = info.querySelector(".tilfoej-knap-ek"); // Knap til at vælge
        const ikon = knap.querySelector(".ikon-ek"); // Ikonet (✔ / +)

        // Hvis farven allerede er valgt, vis det
        if (valgteFarver.some(f => f.kode === farve.kode)) {
          knap.classList.add("selected");
          boks.style.backgroundColor = "#f0f0f0";
        }

        // Når man klikker på tilføjknap
        knap.addEventListener("click", function () {
          const alleredeValgt = valgteFarver.some(f => f.kode === farve.kode);

          if (alleredeValgt) {
            valgteFarver = valgteFarver.filter(f => f.kode !== farve.kode);
            knap.classList.remove("selected");
            ikon.textContent = "+";
            boks.style.backgroundColor = "transparent";
          } else {
            valgteFarver.push(farve);
            knap.classList.add("selected");
            ikon.textContent = "✔";
            boks.style.backgroundColor = "#f0f0f0";
          }

          visValgteFarver(); // Opdater valgte
        });
      });
    }

    // ----------------------------------------
    // Funktion: Filtrering baseret på aktive filtre
    // ----------------------------------------
    function filtrerFarver() {
      const filtreret = colorData.filter(f => {
        return (
                (aktiveFiltre.grundfarve.size === 0 || aktiveFiltre.grundfarve.has(f.grundfarve)) &&
                (aktiveFiltre.farvekort.size === 0 || aktiveFiltre.farvekort.has(f.farvekort)) &&
                (aktiveFiltre.tone.size === 0 || aktiveFiltre.tone.has(f.tone))
        );
      });

      renderFarver(filtreret); // Vis kun de filtrerede farver
    }

    // ----------------------------------------
    // Funktion: Live-søgning i inputfelt
    // ----------------------------------------
    input.addEventListener("input", function () {
      const søgning = input.value.toLowerCase();
      const filtreret = colorData.filter(f => {
        return (
                f.navn.toLowerCase().includes(søgning) ||
                f.kode.toLowerCase().includes(søgning) ||
                (f.grundfarve && f.grundfarve.toLowerCase().includes(søgning)) ||
                (f.tone && f.tone.toLowerCase().includes(søgning)) ||
                (f.farvekort && f.farvekort.toLowerCase().includes(søgning))
        );
      });
      renderFarver(filtreret); // Vis resultater
    });

    // ----------------------------------------
    // Funktion: Gå videre med valgte farver
    // ----------------------------------------
    tilfoejKnap.addEventListener("click", function () {
      if (valgteFarver.length > 0) {
        localStorage.setItem("valgteFarver", JSON.stringify(valgteFarver)); // Gem i localStorage
        window.location.href = "main.html"; // Gå videre
      } else {
        alert("Du skal vælge mindst én farve før du kan fortsætte.");
      }
    });

    // ----------------------------------------
    // Funktion: Opret dropdown-filtre
    // ----------------------------------------
    filters.forEach(filter => {
      const type = filter.dataset.filter; // Type (grundfarve, tone, farvekort)
      const dropdown = document.createElement("div");
      dropdown.className = "dropdown-options";

      // Unikke værdier for denne type
      const værdier = [...new Set(colorData.map(f => f[type]).filter(Boolean))];
      værdier.forEach(val => {
        const label = document.createElement("label");
        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.value = val;

        // Når man vælger/fjerner filter
        checkbox.addEventListener("change", () => {
          if (checkbox.checked) {
            aktiveFiltre[type].add(val);
          } else {
            aktiveFiltre[type].delete(val);
          }
          filtrerFarver(); // Opdater visning
        });

        label.appendChild(checkbox);
        label.appendChild(document.createTextNode(val));
        dropdown.appendChild(label);
      });

      filter.appendChild(dropdown);

      // Vis dropdown når der klikkes på filter
      filter.addEventListener("click", (e) => {
        e.stopPropagation(); // Undgå klik bobler op
        const alleredeÅben = filter.classList.contains("open");
        filters.forEach(f => f.classList.remove("open"));
        if (!alleredeÅben) {
          filter.classList.add("open");
        }
      });
    });

    // Luk alle dropdowns ved klik udenfor
    document.addEventListener("click", () => {
      filters.forEach(f => f.classList.remove("open"));
    });

    // ----------------------------------------
    // Init: vis alle farver ved start
    // ----------------------------------------
    renderFarver(colorData);
  });
  // Når hele HTML-dokumentet er indlæst og klar
  document.addEventListener("DOMContentLoaded", function () {
    // Hent relevante DOM-elementer
    const container = document.getElementById("farveContainer-ek"); // Beholder til visning af farver
    const input = document.getElementById("sogInput-ek"); // Søgeinputfelt
    const popup = document.getElementById("valgPopup-ek"); // Popup-vindue der viser valgte farver
    const valgteContainer = document.getElementById("valgteFarver-ek"); // Beholder til valgte farver
    const tilfoejKnap = document.getElementById("tilfoejListe-ek"); // Knap til at tilføje valgte farver og gå videre
    const filters = document.querySelectorAll(".filter-ek"); // Alle filter-elementer på siden

    // Gemmer valgte farver
    let valgteFarver = [];

    // Gemmer de aktive filtre for hver filterkategori
    const aktiveFiltre = {
      grundfarve: new Set(),
      farvekort: new Set(),
      tone: new Set()
    };

    // ----------------------------------------
    // Funktion: Vis valgte farver i popup
    // ----------------------------------------
    function visValgteFarver() {
      valgteContainer.innerHTML = ""; // Tøm containeren

      // Hvis ingen farver er valgt, skjul popup
      if (valgteFarver.length === 0) {
        popup.classList.add("hidden");
        return;
      }

      popup.classList.remove("hidden"); // Vis popup

      // Gennemgå hver valgt farve og opret visning
      valgteFarver.forEach(f => {
        const preview = document.createElement("div"); // Visning af farve
        preview.className = "farve-preview-ek";
        preview.style.backgroundColor = f.hex;

        const fjern = document.createElement("div"); // Knap til at fjerne farve
        fjern.className = "fjern-knap-ek";
        fjern.textContent = "✕";

        // Når man klikker på "✕", fjernes farven
        fjern.addEventListener("click", function () {
          valgteFarver = valgteFarver.filter(f2 => f2.kode !== f.kode);
          visValgteFarver(); // Opdater visning
          renderFarver(colorData); // Opdater alle farvebokse
        });

        preview.appendChild(fjern); // Tilføj knap til preview
        valgteContainer.appendChild(preview); // Vis preview
      });
    }

    // ----------------------------------------
    // Funktion: Render farver i bokse
    // ----------------------------------------
    function renderFarver(data) {
      container.innerHTML = ""; // Ryd eksisterende visning

      data.forEach(farve => {
        const boks = document.createElement("div"); // Ydre boks
        boks.className = "farveboks-ek";

        const farveDiv = document.createElement("div"); // Farvefelt
        farveDiv.className = "farve-ek";
        farveDiv.style.backgroundColor = farve.hex;

        // Hvis farven er en effekt med tekstur, vis billede
        if (farve.type === "effekt" && farve.tekstur) {
          farveDiv.style.backgroundImage = `url(fotos/tekstur3.png)`;
        }

        const farveWrapper = document.createElement("div"); // Wrapper til placering
        farveWrapper.style.position = "relative";
        farveWrapper.appendChild(farveDiv);

        // Infofelt med navn og kode og tilføjknap
        const info = document.createElement("div");
        info.className = "info-ek";
        info.innerHTML = `
        <div class="info-top-ek">
          <h4>${farve.navn}</h4>
          <button class="tilfoej-knap-ek" aria-label="Tilføj farve">
            <span class="ikon-ek">
              ${valgteFarver.some(f => f.kode === farve.kode) ? "✔" : "+"}
            </span>
          </button>
        </div>
        <p>${farve.kode}</p>
      `;

        boks.appendChild(farveWrapper); // Tilføj farvevisning
        boks.appendChild(info); // Tilføj infofelt
        container.appendChild(boks); // Vis i container

        const knap = info.querySelector(".tilfoej-knap-ek"); // Knap til at vælge
        const ikon = knap.querySelector(".ikon-ek"); // Ikonet (✔ / +)

        // Hvis farven allerede er valgt, vis det
        if (valgteFarver.some(f => f.kode === farve.kode)) {
          knap.classList.add("selected");
          boks.style.backgroundColor = "#f0f0f0";
        }

        // Når man klikker på tilføjknap
        knap.addEventListener("click", function () {
          const alleredeValgt = valgteFarver.some(f => f.kode === farve.kode);

          if (alleredeValgt) {
            valgteFarver = valgteFarver.filter(f => f.kode !== farve.kode);
            knap.classList.remove("selected");
            ikon.textContent = "+";
            boks.style.backgroundColor = "transparent";
          } else {
            valgteFarver.push(farve);
            knap.classList.add("selected");
            ikon.textContent = "✔";
            boks.style.backgroundColor = "#f0f0f0";
          }

          visValgteFarver(); // Opdater valgte
        });
      });
    }

    // ----------------------------------------
    // Funktion: Filtrering baseret på aktive filtre
    // ----------------------------------------
    function filtrerFarver() {
      const filtreret = colorData.filter(f => {
        return (
                (aktiveFiltre.grundfarve.size === 0 || aktiveFiltre.grundfarve.has(f.grundfarve)) &&
                (aktiveFiltre.farvekort.size === 0 || aktiveFiltre.farvekort.has(f.farvekort)) &&
                (aktiveFiltre.tone.size === 0 || aktiveFiltre.tone.has(f.tone))
        );
      });

      renderFarver(filtreret); // Vis kun de filtrerede farver
    }

    // ----------------------------------------
    // Funktion: Live-søgning i inputfelt
    // ----------------------------------------
    input.addEventListener("input", function () {
      const søgning = input.value.toLowerCase();
      const filtreret = colorData.filter(f => {
        return (
                f.navn.toLowerCase().includes(søgning) ||
                f.kode.toLowerCase().includes(søgning) ||
                (f.grundfarve && f.grundfarve.toLowerCase().includes(søgning)) ||
                (f.tone && f.tone.toLowerCase().includes(søgning)) ||
                (f.farvekort && f.farvekort.toLowerCase().includes(søgning))
        );
      });
      renderFarver(filtreret); // Vis resultater
    });

    // ----------------------------------------
    // Funktion: Gå videre med valgte farver
    // ----------------------------------------
    tilfoejKnap.addEventListener("click", function () {
      if (valgteFarver.length > 0) {
        localStorage.setItem("valgteFarver", JSON.stringify(valgteFarver)); // Gem i localStorage
        window.location.href = "main.html"; // Gå videre
      } else {
        alert("Du skal vælge mindst én farve før du kan fortsætte.");
      }
    });

    // ----------------------------------------
    // Funktion: Opret dropdown-filtre
    // ----------------------------------------
    filters.forEach(filter => {
      const type = filter.dataset.filter; // Type (grundfarve, tone, farvekort)
      const dropdown = document.createElement("div");
      dropdown.className = "dropdown-options";

      // Unikke værdier for denne type
      const værdier = [...new Set(colorData.map(f => f[type]).filter(Boolean))];
      værdier.forEach(val => {
        const label = document.createElement("label");
        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.value = val;

        // Når man vælger/fjerner filter
        checkbox.addEventListener("change", () => {
          if (checkbox.checked) {
            aktiveFiltre[type].add(val);
          } else {
            aktiveFiltre[type].delete(val);
          }
          filtrerFarver(); // Opdater visning
        });

        label.appendChild(checkbox);
        label.appendChild(document.createTextNode(val));
        dropdown.appendChild(label);
      });

      filter.appendChild(dropdown);

      // Vis dropdown når der klikkes på filter
      filter.addEventListener("click", (e) => {
        e.stopPropagation(); // Undgå klik bobler op - Ved at kalde e.stopPropagation() forhindrer vi hændelsen i at nå document, så dropdownen forbliver åben.
        const alleredeÅben = filter.classList.contains("open");
        filters.forEach(f => f.classList.remove("open"));
        if (!alleredeÅben) {
          filter.classList.add("open");
        }
      });
    });

    // Luk alle dropdowns ved klik udenfor
    document.addEventListener("click", () => {
      filters.forEach(f => f.classList.remove("open"));
    });

    // ----------------------------------------
    // Init: vis alle farver ved start
    // ----------------------------------------
    renderFarver(colorData);
  });

</script>

</body>
</html>

